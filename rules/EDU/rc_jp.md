[日本語(Japanese)](./rc_jp.md) | [英語(English)](./rc_en.md)

# Receptionistルール

## メインゴール
このタスクでは，ロボットが2人のゲストをリビングの空いている席に案内する．
その際，ホストへ来館したゲストについて紹介する．

<br>

## フォーカス
タスク遂行プランニング，人とロボットのインタラクション、人検出、人認識

<br>

## セットアップ
<img src="./layout/RoboCup_BC_Receptionist_firstpoint.png">

- スタート位置
  - ロボットは，アリーナ内の上図の☆印(入口付近)からスタートします．
- 時間
  - セットアップ5分
  - 競技時間7分
- ホスト
  - 名前はMax
  - 好きな飲み物はWine
  - ホストの初期位置は，セットアップ日に発表される
- ゲスト
  - 2人のゲストにはそれぞれ名前と好きな飲み物が設定されている
  - ゲストはロボットに部屋の中へ案内され紹介される
  - 2人のゲストはそれぞれ別のタイミングで到着し，ロボットの前にやってくる
  - ただし，ゲストはTCによって入るタイミングを決められるため，部屋に入ってきたことをロボットは認識する必要がある．


<br>

## アリーナ
<img src="./layout/RoboCup_BC_Receptionist_common.png">

今回使用する環境は上図のようにいたします．\
ドアは設置せずに競技を行う．

※しかし，@HomeやRoboCup全体からBridge Competitionに関するアリーナの要請があればそれに従うため，変更の可能性がある．

<br>

## 進行
- メインタスク（2人分繰り返す）
  - ゲストの検出
    - 部屋に入ってきたゲストを検出し，挨拶する．
  - ゲストの受付
    - ロボットはゲストに名前と好きな飲み物を聞く．
    - ゲストとの会話において聞き取れなかった場合，聞き返すことができる．
  - ホストのもとへ移動
    - ゲストを連れて，ホストがいる位置へ移動する
    - 1人目の場合は事前にホストの位置を知ることができる
  - ゲストの紹介
    - ホストに，連れているゲストの名前と好きな飲み物について紹介する．
    - 紹介中，ロボットはホストや紹介するゲストに注意を向ける．
  - ゲストを空いている席に案内
    - ゲストを空いている席へ案内し，座らせる．
    - ロボットはゲストが座れる場所（空席）を指差す．
  - 席の入れ替え
    - ゲストが座ったあと，空席やホストと入れ替わることがある．
    - ただし，ホストの位置を固定する代替案を選ぶことができる
- ボーナスタスク
  - ロボットは1人目のゲストの特徴4つを2人目のゲストに紹介するとボーナス点を獲得できる．


  ※特徴の取得は、音声認識で取得することはできない．つまり名前と好きな飲み物以外をロボットが認識する必要がある．

### タスクの流れ(動画)
<video src="./layout/RoboCup_BC_Receptionist_TaskFlow.mp4" controls="true"></video>


<br>

## ローカルルール
1. 音声認識はゲスト・ホスト共に聞こえる声と距離で行う．
2. ロボットと人のインタラクションは英語とする．
3. 特徴の発話など点数に関わることがらについて，不鮮明な場合はログの提示を要求することがある

    ※ログの掲示ができない場合，正しく発話していることが確認できないので点数が入らない可能性があるので注意


<br>

## 使用する特徴について

Discordのチャンネル内で募集し確定する．[TODO]

<br>


## 名前と飲み物リスト
以下の中からゲストに名前と好きな飲み物がランダムに割り当てられます．

### 名前
- Adam
- Axel
- Chris
- Hunter
- Jack
- Paris
- Robin
- Olivia
- William
- Max


### 飲み物
- orange juice
- coke
- soda
- coffee
- cocoa
- lemonade
- coconut milk
- green tea
- black tea
- wine


<br>

## デウスエクスマキナ

本競技では，次のデウスエクスマキナが採用されます．\
デウスエクスマキナでは減点されますが，より簡単な手法でアクションをスキップし，タスクを継続することができます．

|**アクション**|**スキップ方法**|
|------|-----|
| ホストの位置検出 | &nbsp;&bull;&nbsp;初めの既知の位置から変わらないよう固定位置とする |
| ゲストの人認識 | &nbsp;&bull;&nbsp;マーカーを用いてゲストが入ってきたことを認識する |
| 空席検出 | &nbsp;&bull;&nbsp;マーカーを用いて空席を検出する |


<br>
   
## スコアシート
このタスクでは，2回のトライアルの内，最高得点のみがスコアとして記録されます．

|**アクション**|**スコア**|
|------|-----|
| **メインタスク** |  |
| 1人目 | |
| &nbsp;&bull;&nbsp;ゲストに挨拶 | 20 |
| &nbsp;&bull;&nbsp;ホストの前に移動 | 25 |
| &nbsp;&bull;&nbsp;ゲストの名前を発話 | 50 |
| &nbsp;&bull;&nbsp;ゲストの好きな飲み物を発話 | 50 |
| &nbsp;&bull;&nbsp;ゲスト・ホストに注意を向けて発話 | 40 |
| &nbsp;&bull;&nbsp;空席に移動 | 25 |
| &nbsp;&bull;&nbsp;ゲストを空席に座らせる | 30 |
| &nbsp;&bull;&nbsp;初期位置に移動 | 30 |
| 2人目 | |
| &nbsp;&bull;&nbsp;ゲストに挨拶 | 20 |
| &nbsp;&bull;&nbsp;ホストの前に移動 | **65** |
| &nbsp;&bull;&nbsp;ゲストの名前を発話 | 50 |
| &nbsp;&bull;&nbsp;ゲストの好きな飲み物を発話 | 50 |
| &nbsp;&bull;&nbsp;ゲスト・ホストに注意を向けて発話 | 40 |
| &nbsp;&bull;&nbsp;空席に移動 | **65** |
| &nbsp;&bull;&nbsp;ゲストを空席に座らせる | 30 |
| **ボーナスタスク** |  |
| 1人目のゲストの特徴を2人目に報告 | |
| 特徴① | 40 |
| 特徴② | 40 |
| 特徴③ | 40 |
| 特徴④ | 40 |
|  |  |
| **デウス・エクス・マキナ**† |  |
| ホストの位置検出を行わない | (2人目も1人目と同じ点数配分となる) |
| ゲストの人認識にマーカを使う(マーカは各チーム持参) | -50 |
| 空席検出にマーカを使う(マーカは各チーム持参) | -50 |
| **ペナルティ** |  |
| 不参加（無断） | -500 |
|  |  |
| 合計（ボーナスタスクを含む） | 750 |

<br>

## 運営による指示
- セットアップデイ
  - ホストの初期位置を知らせる（Trial1/Trial2それぞれ公開する）
- 前日のTLM
  - ホスト役について公開する
    - 事前にホストの写真などを撮りたい場合はここで撮ることができる
  - デウス・エクス・マキナを使用するチームの項目を確認
  - セットアップデイに公開したホストの初期位置を再確認
- 競技開始直前（ただし，運営が決めるランダム要素をチームメンバーが知ることはできない）
  - スキップする項目の有無をチームへ最終確認する
  - ゲスト全員の位置と名前，好きな飲み物を割り当てる
  - 2人目のタスクに入ったときに，ホスト・ゲストの位置の入れ替えに対する指示をする


<br>

## 各チームの事前準備
- 採点者について
  - 各チーム1人の採点者を出して頂きます．
  - 各チームメンバー全員がしっかりとルールを確認してきてください．


<br>

## 質問と回答

- 特徴は何を使ってもよいのか？
  - 事前に各チームから使用したい特徴についての申請をもらいリスト化させる．

- 特徴を5つ以上言った場合は正解しているものが優先されますか？
  - 基本的に，あらかじめ公開されている特徴リストの中から4つのみ発話してください．
  - リスト内の特徴であれば問題ないので，特徴を複数取得した後，ロボットが自律的に選択してもよいです．
    - 事前にTC/OCに伝える必要はありません．
  - もしロボットが5つ以上の特徴を発した場合，正誤に関わらず，最初に発話した4つの特徴で採点します．

- ホスト，ゲストは自チームから出すことができるか？
  - いいえ．特徴を述べる観点から，事前に知りえないゲストを公平にTC/OCが選びます．

- イスの位置は既知か？
  <img src="./layout/RoboCup_BC_Receptionist_common.png">

  - はい．CMLとの兼ね合いもありますが，概ねこの画像の通りです．
  - ただし，@Homeから公開されるレイアウトによっては変更の可能性がある．